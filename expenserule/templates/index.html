{% extends "base.html" %}

{% block title %}Expenses â€” ExpenseRule{% endblock %}

{% block content %}
<section>
  <hgroup>
    <h2>Expenses</h2>
    <p>All categorized receipts and manual entries.</p>
  </hgroup>

  <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
    <a href="/upload" role="button">Upload Receipt</a>
    <a href="/new" role="button" class="secondary">Manual Entry</a>
    <a href="/export/csv" role="button" class="outline">Export CSV</a>
  </div>

  {% if expenses %}
  <figure>
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Merchant</th>
          <th>Amount</th>
          <th>Category</th>
          <th>Sch. C Line</th>
          <th>Notes</th>
        </tr>
      </thead>
      <tbody>
        {% for expense in expenses %}
        <tr>
          <td>{{ expense.date }}</td>
          <td>{{ expense.merchant }}</td>
          <td>${{ "%.2f"|format(expense.amount) }}</td>
          <td>{{ expense.category }}</td>
          <td>{{ expense.schedule_c_line }}</td>
          <td>{{ expense.notes }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </figure>
  {% else %}
  <p>No expenses yet. <a href="/upload">Upload a receipt</a> or <a href="/new">add one manually</a>.</p>
  {% endif %}
</section>
{% endblock %}
